<div class="home-container">
  <div class="container">
    <div class="split-layout">
      <!-- LEFT SIDE: Quick Actions -->
      <div class="actions-section">
        <div class="actions-header">
          <h2 class="actions-title">Quick Actions</h2>
          <p class="actions-subtitle">Manage your gadgets and warranties</p>
        </div>

        <div class="action-cards">
          <div class="action-card" (click)="openAddDeviceDialog()">
            <div class="action-icon">â•</div>
            <h3 class="action-title">Add New Gadget</h3>
            <p class="action-description">Track your gadget warranties in 3 simple steps</p>
          </div>

          <div class="action-card" routerLink="/dashboard">
            <div class="action-icon">ğŸ“±</div>
            <h3 class="action-title">View All Gadgets</h3>
            <p class="action-description">See all your gadgets and their warranty status</p>
          </div>

          <div class="action-card" *ngIf="!authService.isAuthenticated()" (click)="isLoginDialogOpen = true">
            <div class="action-icon">ğŸ”</div>
            <h3 class="action-title">Sign In</h3>
            <p class="action-description">Access your account and manage gadgets</p>
          </div>
        </div>
      </div>

      <!-- RIGHT SIDE: Gadget List -->
      <div class="list-section">
        <div class="list-header">
          <h2 class="list-title">Recent Gadgets</h2>
          <span class="device-count">{{ devices.length }} device{{ devices.length !== 1 ? 's' : '' }}</span>
        </div>

        <!-- Loading State -->
        <div *ngIf="isLoading" class="loading-state">
          <div class="spinner"></div>
          <p>Loading gadgets...</p>
        </div>

        <!-- Empty State -->
        <div *ngIf="!isLoading && devices.length === 0" class="empty-state">
          <div class="empty-icon">ğŸ“¦</div>
          <h3>No gadgets yet</h3>
          <p>Click "Add New Gadget" to get started</p>
        </div>

        <!-- Gadget List -->
        <div *ngIf="!isLoading && devices.length > 0" class="device-list">
          <div *ngFor="let device of devices" class="device-card">
            <div class="device-info">
              <div class="device-icon">{{ device.image || 'ğŸ“¦' }}</div>
              <div class="device-details">
                <h3 class="device-name">{{ device.name }}</h3>
                <p class="device-meta">
                  {{ device.manufacturer }} {{ device.model }}
                </p>
                <div class="device-status">
                  <span class="status-badge" [ngClass]="getStatusClass(device.status)">
                    {{ getStatusLabel(device.status) }}
                  </span>
                  <span class="warranty-date">
                    Expires {{ formatDate(device.warrantyExpires) }}
                  </span>
                </div>
              </div>
            </div>

            <div class="device-actions">
              <button
                class="action-btn view-btn"
                (click)="viewDevice(device)"
                title="View Details"
              >
                ğŸ‘ï¸
              </button>
              <button
                class="action-btn edit-btn"
                (click)="editDevice(device)"
                title="Edit"
              >
                âœï¸
              </button>
              <button
                class="action-btn docs-btn"
                (click)="viewDocuments(device)"
                title="Documents"
              >
                ğŸ“„
              </button>
              <button
                class="action-btn delete-btn"
                (click)="deleteDevice(device)"
                title="Delete"
              >
                ğŸ—‘ï¸
              </button>
            </div>
          </div>
        </div>

        <!-- View All Link -->
        <div *ngIf="!isLoading && devices.length > 0" class="view-all">
          <a routerLink="/dashboard" class="view-all-link">
            View all gadgets â†’
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Add Gadget Dialog -->
<gc-add-device-dialog
  [isOpen]="isAddDeviceDialogOpen"
  (close)="closeAddDeviceDialog()"
  (deviceAdded)="onDeviceAdded()"
></gc-add-device-dialog>

<!-- Auth Dialogs -->
<gc-login-dialog
  [isOpen]="isLoginDialogOpen"
  (close)="closeLoginDialog()"
  (switchToSignup)="switchToSignup()"
  (loginSuccess)="onLoginSuccess()"
></gc-login-dialog>

<gc-signup-dialog
  [isOpen]="isSignupDialogOpen"
  (close)="closeSignupDialog()"
  (switchToLogin)="switchToLogin()"
  (signupSuccess)="onSignupSuccess()"
></gc-signup-dialog>
