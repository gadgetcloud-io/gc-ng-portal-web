<div class="before-after-slider">
  <!-- Header -->
  <div class="slider-header">
    <h3 class="slider-title">âš–ï¸ Before vs. After</h3>
    <p class="slider-subtitle">
      See the difference GadgetCloud makes in organizing your gadgets
    </p>
    <p class="slider-instruction" *ngIf="!isMobile">
      ğŸ‘† Drag the slider to compare
    </p>
    <p class="slider-instruction" *ngIf="isMobile">
      ğŸ‘† Tap to toggle views
    </p>
  </div>

  <!-- Comparison Container -->
  <div
    #slider
    class="comparison-container"
    (click)="onTap()"
    (touchstart)="onTouchStart($event)"
    (touchmove)="onTouchMove($event)"
    (touchend)="onTouchEnd()"
  >
    <!-- AFTER Image (Full width, clipped by slider) -->
    <div class="after-image">
      <div class="image-content after-content">
        <div class="mock-dashboard">
          <!-- Simulated organized dashboard -->
          <div class="dashboard-header">
            <div class="header-title">My Gadgets</div>
            <div class="header-stats">
              <span class="stat">5 devices</span>
              <span class="stat">âœ… All warranties tracked</span>
            </div>
          </div>
          <div class="device-grid">
            <div class="device-card">
              <div class="device-icon">ğŸ’»</div>
              <div class="device-info">
                <div class="device-name">MacBook Pro</div>
                <div class="device-warranty">âœ… 18 mo left</div>
              </div>
            </div>
            <div class="device-card">
              <div class="device-icon">ğŸ“±</div>
              <div class="device-info">
                <div class="device-name">iPhone 15</div>
                <div class="device-warranty">âœ… 8 mo left</div>
              </div>
            </div>
            <div class="device-card">
              <div class="device-icon">âŒš</div>
              <div class="device-info">
                <div class="device-name">Apple Watch</div>
                <div class="device-warranty">âœ… 24 mo left</div>
              </div>
            </div>
          </div>
        </div>
        <div class="image-label after-label">After: Organized & Tracked</div>
      </div>
    </div>

    <!-- BEFORE Image (Revealed as slider moves) -->
    <div class="before-image" [style.width]="getSliderWidth()">
      <div class="image-content before-content">
        <div class="mock-chaos">
          <!-- Simulated messy receipts -->
          <div class="receipt">ğŸ“„ Receipt 1</div>
          <div class="receipt">ğŸ§¾ Invoice</div>
          <div class="receipt">ğŸ“‹ Warranty?</div>
          <div class="receipt">ğŸ“ƒ Manual</div>
          <div class="receipt">ğŸ§¾ Receipt 2</div>
          <div class="receipt scattered">ğŸ“„ Lost...</div>
          <div class="receipt scattered">ğŸ“‹ Expired?</div>
          <div class="warning-icon">âš ï¸</div>
          <div class="question-marks">â“â“â“</div>
        </div>
        <div class="image-label before-label">Before: Chaos & Stress</div>
      </div>
    </div>

    <!-- Divider with Handle -->
    <div
      #divider
      class="divider"
      [style.left]="getDividerPosition()"
      (mousedown)="onMouseDown($event)"
    >
      <div class="divider-line"></div>
      <div class="divider-handle">
        <div class="handle-icon">
          <span class="arrow-left">â—€</span>
          <span class="arrow-right">â–¶</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Benefits List -->
  <div class="benefits-list">
    <div class="benefit">
      <div class="benefit-icon">âœ…</div>
      <div class="benefit-text">All warranties in one place</div>
    </div>
    <div class="benefit">
      <div class="benefit-icon">â°</div>
      <div class="benefit-text">Smart expiry reminders</div>
    </div>
    <div class="benefit">
      <div class="benefit-icon">ğŸ’°</div>
      <div class="benefit-text">Never lose money on expired warranties</div>
    </div>
    <div class="benefit">
      <div class="benefit-icon">ğŸ¯</div>
      <div class="benefit-text">Find any gadget info in seconds</div>
    </div>
  </div>
</div>
